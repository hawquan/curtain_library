<ion-header class="ion-no-border">
  <ion-toolbar style="--background: #FAF7F2">
    <div style="position: sticky; top: 0px; width: 100%;z-index: 100;">
      <div style="width: 100%;  display: flex; align-items: center; justify-content: space-between; padding:0 6px; ">

        <div style="width: 30%;display: flex;align-items: center;">
          <ion-icon (click)="back()" style="font-size: 18px; color: #636161; --ionicon-stroke-width: 50px"
            name="chevron-back-outline"></ion-icon>
        </div>
        <div style="width: 35%;font-weight: 600;color: #000;font-size: 18px;display: flex;justify-content: center;">Task
          Details</div>

        <div *ngIf="info" style="width: 35%;display: flex;justify-content: flex-end;">

          <div *ngIf="info.status && user.position == 'Sales'" (click)="changeStatus('delete')" style="color: white;background-color: tomato;font-size: 12px;font-weight: bold;
           padding: 5px 10px; border-radius: 5px; cursor: pointer;">
            Void Sales</div>
          <div *ngIf="!info.status && user.position == 'Sales'" (click)="changeStatus('active')" style="color: white;background-color: limegreen;font-size: 12px;font-weight: bold;
           padding: 5px 10px; border-radius: 5px; cursor: pointer;">
            Activate Sales</div>
        </div>

      </div>
    </div>

  </ion-toolbar>
</ion-header>
<!-- <image-drawing style="z-index: 100;" [src]="snapURL" width="100px" height="100px" outputMimeType="'image/jpeg'" outputQuality="0.8"
(save)="save($event)" (cancel)="cancel()">
</image-drawing> -->
<ion-content style="--background: #FAF7F2">

  <div *ngIf="user.position == 'Sales'" style="width: 100vw;">

    <div
      style="width: 100%; padding: 10px; background-color: #ebd1af; display: flex;justify-content: space-between;align-items: center;">
      <div style="color: #a17635; font-weight: 600; font-size: 12px;">Client Details</div>
      <div *ngIf="!isEdit" (click)="isEdit = true" style="background-color: white; border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
      color: #a17635; padding: 2px 5px;">Edit Details</div>
      <div *ngIf="isEdit" style="display: flex;align-items: center;">
        <div (click)="isEditCancel()" style="background-color: red; border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;margin-right: 5px;
        color: white;padding: 2px 5px;">Cancel</div>
        <div (click)="isEditSave()" style="background-color: white; border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
          color: #a17635; padding: 2px 10px;margin-left: 5px;">Save</div>
      </div>
    </div>

    <div style="width: 100%; padding:10px">
      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;font-weight: 400; ">
        <div style="font-weight: 700; width: 25%;">Name :</div>
        <div *ngIf="!isEdit" style="width: 70%;">{{info.customer_name}}</div>
        <ion-input *ngIf="isEdit" placeholder="Eg. Name" class="ion-no-padding" [(ngModel)]="info['customer_name']"
          style="font-size: 14px; letter-spacing: 0.5px; font-weight: 400; width: 70%;box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px 0px;--padding-start: 5px;--padding-end: 5px;">
        </ion-input>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Email :</div>
        <div *ngIf="!isEdit" style="font-weight: 400; width: 70%;">{{info.customer_email || 'N/A'}}</div>
        <ion-input *ngIf="isEdit" placeholder="Eg. Email" class="ion-no-padding" [(ngModel)]="info['customer_email']"
          style="font-size: 14px; letter-spacing: 0.5px; font-weight: 400; width: 70%;box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px 0px; margin-top: 10px;--padding-start: 5px;--padding-end: 5px;">
        </ion-input>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Phone :</div>
        <div *ngIf="!isEdit" style="font-weight: 400; width: 70%;">{{info.customer_phone}}</div>
        <ion-input *ngIf="isEdit" placeholder="Eg. Phone" class="ion-no-padding" [(ngModel)]="info['customer_phone']"
          style="font-size: 14px; letter-spacing: 0.5px; font-weight: 400; width: 70%;box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px 0px;
          margin-top: 10px;--padding-start: 5px;--padding-end: 5px;">
        </ion-input>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Type :</div>
        <div *ngIf="!isEdit" style="font-weight: 400; width: 70%; text-transform: uppercase;">{{info.customer_property}}
        </div>
        <div *ngIf="isEdit" style="box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px 0px;width: 70%;margin-top: 10px;">

          <ion-input class="ion-no-padding" placeholder="Eg. Condominium" [(ngModel)]="keywordPro"
            (ionFocus)="focus(true)" (ionBlur)="focus(false)"
            style="font-size: 14px; letter-spacing: 0.5px; --padding-start: 5px;--padding-end: 5px;">
          </ion-input>

          <div *ngIf="info['customer_property'] != keywordPro && showSelection" style="width: 100%;">
            <div *ngFor="let x of filtererPro(propertyList); let i = index" (click)="selectedArea(x)" style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center;
               background-color: #f0f1f3; cursor: pointer; width: 100%;">
              <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x}}</div>
            </div>
          </div>

        </div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: flex-start; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Address :</div>
        <!-- <div *ngIf="!isEdit" style="font-weight: 400; width: 70%;">{{info.customer_address}}</div> -->
        <ion-textarea *ngIf="!isEdit" class="ion-no-padding" rows="2" placeholder="No 1 street ABC" auto-grow="true"
          readonly [(ngModel)]="info['customer_address']"
          style="font-size: 14px; letter-spacing: 0.5px;margin-top: 0px;">
        </ion-textarea>
        <ion-textarea *ngIf="isEdit" class="ion-no-padding" rows="2" placeholder="No 1 street ABC" auto-grow="true"
          [(ngModel)]="info['customer_address']"
          style="font-size: 14px; letter-spacing: 0.5px; box-shadow: rgba(0, 0, 0, 0.15) 0px 2px 4px 0px;margin-top: 10px;--padding-start: 5px;--padding-end: 5px;">
        </ion-textarea>
      </div>

      <div style="width: 100%;display: flex;align-items: center;">
        <div style="font-weight: 700; width: 25%;"></div>
        <div (click)="presentActionSheet()" style="width: fit-content;color: #a17635;background-color: #ebd1af; border-radius: 5px;
        font-weight: 450px;font-size: 13px;letter-spacing: 0.7px;padding: 5px 10px;">Navigate</div>
      </div>
    </div>

    <div
      style="width: 100%; padding: 10px; background-color: #ebd1af; display: flex; align-items: center; justify-content: space-between;">
      <div style="color: #a17635; font-weight: 600; font-size: 12px;">Product Details</div>
      <div *ngIf="lengthof(items) > 0" (click)="updateAll()" style="background-color: white; border-radius: 10px; box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
      color: #a17635; padding: 4px 8px; font-size: 12px;">Update All</div>
    </div>

    <div style="width: 100%;padding: 10px;">

      <div *ngFor="let x of items; let i = index"
        style="width: 100%; padding:10px; border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;background: white;margin-bottom: 10px;">

        <!-- Type 1 -->
        <div *ngIf="x.type == '1'">
          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Supply Fabrics Only</div>
            <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}"
              name="chevron-down-outline"></ion-icon>
          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; margin-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Fabrics Only
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Fabric Type</div>

              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">

                <div
                  style="background-color: #eeeeee; width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  <span *ngIf="x.fabric_type == 'C'">{{x.fabric}}</span>
                  <span *ngIf="x.fabric_type == 'S'">{{x.fabric_sheer}}</span>
                  <span *ngIf="x.fabric_type == 'CS'">{{x.fabric}}<br />{{fabric_sheer}}</span>
                </div>

              </div>

            </div>

            <div *ngIf="x['type'] == 'Wallpaper'"
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type <span
                  style="color: red;">*</span>
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-select class="ion-no-padding" [(ngModel)]="x['pleat']" placeholder="Select a pleat type"
                  interface="popover" md="ios" (ionChange)="typeChanged()"
                  [interfaceOptions]="{'cssClass': 'mycomponent-wider-popover'}" style="height: 30px; margin-right: 10px;font-size: 13px;
             padding: 0 10px; border-radius: 2px;background: #eeeeee;" disabled>
                  <ion-select-option value="Plain">Plain</ion-select-option>
                  <ion-select-option value="Fabric">Fabric</ion-select-option>
                  <ion-select-option value="Non-Woven">Non-Woven</ion-select-option>
                  <ion-select-option value="Patterned">Patterned</ion-select-option>
                  <ion-select-option value="Vinyl">Vinyl</ion-select-option>
                </ion-select>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Item Price</div>

              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input [(ngModel)]="'RM ' + x.price" readonly
                  style="background-color: #eeeeee;width: 140px;  height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>

            </div>

            <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;margin: 5px 0;">

              <div style="display: flex;align-items: center;justify-content: center;">
                <div (click)="deleteTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;margin-right: 20px;color: red;">
                  Delete
                </div>

                <div (click)="editTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;color: green;">
                  Edit
                </div>

              </div>

              <div (click)="quotationSingle(x,i)"
                style="color: #a17635;font-weight: 600; font-size: 12px;letter-spacing: 0.7px;padding-right: 10px;">
                View Quotation
              </div>

            </div>

          </div>
        </div>

        <!-- Type 2 -->
        <div *ngIf="x.type == '2'">

          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Supply Track Only</div>
            <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}"
              name="chevron-down-outline"></ion-icon>
          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Track Width (inch)
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;padding: 7px 10px;border-radius: 2px;">
                  {{x.width_tech || x.width}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Track Only
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Track Type</div>

              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">

                <div
                  style="background-color: #eeeeee; width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  {{x.track}}
                </div>

              </div>

            </div>
            <!-- 
            <div *ngIf="x['type'] == 'Wallpaper'"
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type <span
                  style="color: red;">*</span>
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-select class="ion-no-padding" [(ngModel)]="x['pleat']" placeholder="Select a pleat type"
                  interface="popover" md="ios" (ionChange)="typeChanged()"
                  [interfaceOptions]="{'cssClass': 'mycomponent-wider-popover'}" style="height: 30px; margin-right: 10px;font-size: 13px;
           padding: 0 10px; border-radius: 2px;background: #eeeeee;" disabled>
                  <ion-select-option value="Plain">Plain</ion-select-option>
                  <ion-select-option value="Fabric">Fabric</ion-select-option>
                  <ion-select-option value="Non-Woven">Non-Woven</ion-select-option>
                  <ion-select-option value="Patterned">Patterned</ion-select-option>
                  <ion-select-option value="Vinyl">Vinyl</ion-select-option>
                </ion-select>
              </div>
            </div> -->

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Item Price</div>

              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input [(ngModel)]="'RM ' + x.price" readonly
                  style="background-color: #eeeeee;width: 140px;  height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>

            </div>

            <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;margin: 5px 0;">

              <div style="display: flex;align-items: center;justify-content: center;">
                <div (click)="deleteTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;margin-right: 20px;color: red;">
                  Delete
                </div>

                <div (click)="editTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;color: green;">
                  Edit
                </div>

              </div>

              <div (click)="quotationSingle(x,i)"
                style="color: #a17635;font-weight: 600; font-size: 12px;letter-spacing: 0.7px;padding-right: 10px;">
                View Quotation
              </div>

            </div>

          </div>

        </div>

        <!-- Type 3 -->
        <div *ngIf="x.type == '3'">

          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Supply Accessories Only</div>
            <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}"
              name="chevron-down-outline"></ion-icon>
          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Accessories Only
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Accessories Type</div>

              <div style="display: flex; align-items: center; margin-top: 5px; font-weight: 400;">

                <div
                  style="background-color: #eeeeee; width: 140px; padding: 5px 10px; border-radius: 2px; display: flex; flex-wrap: wrap; align-items: center; ">
                  <div *ngFor="let y of x.accessories; let l = last">
                    {{y.acce_title}}<span *ngIf="!l">,&nbsp;</span>
                  </div>
                </div>

              </div>

            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Item Price</div>

              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input [(ngModel)]="'RM ' + x.price" readonly
                  style="background-color: #eeeeee;width: 140px;  height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>

            </div>

            <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;margin: 5px 0;">

              <div style="display: flex;align-items: center;justify-content: center;">
                <div (click)="deleteTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;margin-right: 20px;color: red;">
                  Delete
                </div>

                <div (click)="editTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;color: green;">
                  Edit
                </div>

              </div>

              <div (click)="quotationSingle(x,i)"
                style="color: #a17635;font-weight: 600; font-size: 12px;letter-spacing: 0.7px;padding-right: 10px;">
                View Quotation
              </div>

            </div>

          </div>

        </div>

        <!-- Type 4 -->
        <div *ngIf="x.type == '4'">

          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Supply & Install Motor Track</div>
            <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}"
              name="chevron-down-outline"></ion-icon>
          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Location
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 150px; height: 30px;padding: 3px 10px;border-radius: 2px; ">
                  {{x.location}}<span *ngIf="x.location_ref"> -
                    {{x.location_ref}}</span>
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 150px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Supply & Install Motor Track
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Motorised Choice
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 150px; height: 30px; padding : 0px 10px;border-radius: 2px; display: flex; align-items: center;">
                  {{x.motorized_choice}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Motorised Power
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 150px; height: 30px;font-weight: 400; padding: 0px 10px; border-radius: 2px; display: flex; align-items: center;">
                  {{x.motorized_power}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Item Price</div>

              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input [(ngModel)]="'RM ' + x.price" readonly
                  style="background-color: #eeeeee;width: 150px;  height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>

            </div>

            <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;margin: 5px 0;">

              <div style="display: flex;align-items: center;justify-content: center;">
                <div (click)="deleteTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;margin-right: 20px;color: red;">
                  Delete
                </div>

                <div (click)="editTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;color: green;">
                  Edit
                </div>
              </div>

              <div (click)="quotationSingle(x,i)"
                style="color: #a17635;font-weight: 600; font-size: 12px;letter-spacing: 0.7px;padding-right: 10px;">
                View Quotation
              </div>

            </div>

          </div>

        </div>

        <!-- Type 5 -->
        <div *ngIf="x.type == '5'">
          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Sewing Only</div>
            <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}"
              name="chevron-down-outline"></ion-icon>
          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Width (inch)
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;padding: 7px 10px;border-radius: 2px;">
                  {{x.width_tech || x.width}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Height (inch)</div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;padding: 7px 10px;border-radius: 2px;">
                  {{x.height_tech || x.height}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Sewing Only
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input *ngIf="x.pleat && x.pleat_sheer" [(ngModel)]="x.pleat" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
                <ion-input *ngIf="x.pleat && !x.pleat_sheer" [(ngModel)]="x.pleat" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
                <ion-input *ngIf="!x.pleat && x.pleat_sheer" [(ngModel)]="x.pleat_sheer" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>
            </div>

            <div *ngIf="x['type'] == 'Wallpaper'"
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type <span
                  style="color: red;">*</span>
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-select class="ion-no-padding" [(ngModel)]="x['pleat']" placeholder="Select a pleat type"
                  interface="popover" md="ios" (ionChange)="typeChanged()"
                  [interfaceOptions]="{'cssClass': 'mycomponent-wider-popover'}" style="height: 30px; margin-right: 10px;font-size: 13px;
               padding: 0 10px; border-radius: 2px;background: #eeeeee;" disabled>
                  <ion-select-option value="Plain">Plain</ion-select-option>
                  <ion-select-option value="Fabric">Fabric</ion-select-option>
                  <ion-select-option value="Non-Woven">Non-Woven</ion-select-option>
                  <ion-select-option value="Patterned">Patterned</ion-select-option>
                  <ion-select-option value="Vinyl">Vinyl</ion-select-option>
                </ion-select>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Item Price</div>

              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input [(ngModel)]="'RM ' + x.price" readonly
                  style="background-color: #eeeeee;width: 140px;  height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>

            </div>

            <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;margin: 5px 0;">

              <div style="display: flex;align-items: center;justify-content: center;">
                <div (click)="deleteTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;margin-right: 20px;color: red;">
                  Delete
                </div>

                <div (click)="editTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;color: green;">
                  Edit
                </div>
              </div>

              <div (click)="quotationSingle(x,i)"
                style="color: #a17635;font-weight: 600; font-size: 12px;letter-spacing: 0.7px;padding-right: 10px;">
                View Quotation
              </div>

            </div>

          </div>

        </div>

        <!-- Type 6 -->
        <div *ngIf="x.type == '6'">

          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Supply Wallpaper Only</div>
            <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}"
              name="chevron-down-outline"></ion-icon>
          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Wallpaper Only
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Wallpaper Selected</div>

              <div style="display: flex; align-items: center; margin-top: 5px; font-weight: 400;">

                <div
                  style="background-color: #eeeeee; width: 140px; padding: 5px 10px; border-radius: 2px; display: flex; flex-wrap: wrap; align-items: center; ">
                  {{x.wallpaper.name}}
                </div>

              </div>

            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Item Price</div>

              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input [(ngModel)]="'RM ' + x.price" readonly
                  style="background-color: #eeeeee;width: 140px;  height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>

            </div>

            <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;margin: 5px 0;">

              <div style="display: flex;align-items: center;justify-content: center;">
                <div (click)="deleteTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;margin-right: 20px;color: red;">
                  Delete
                </div>

                <div (click)="editTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;color: green;">
                  Edit
                </div>

              </div>

              <div (click)="quotationSingle(x,i)"
                style="color: #a17635;font-weight: 600; font-size: 12px;letter-spacing: 0.7px;padding-right: 10px;">
                View Quotation
              </div>

            </div>

          </div>

        </div>

        <div *ngIf="x.type == 'Tailor-Made Curtains' || x.type == 'Blinds' ">
          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">{{x.location}} - {{x.location_ref || ''}}</div>
            <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}"
              name="chevron-down-outline"></ion-icon>
          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Curtain Width (inch)
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;padding: 7px 10px;border-radius: 2px;">
                  {{x.width_tech || x.width}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Curtain Height (inch)</div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;padding: 7px 10px;border-radius: 2px;">
                  {{x.height_tech || x.height}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input [(ngModel)]="x.type" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input *ngIf="x.pleat && x.pleat_sheer" [(ngModel)]="x.pleat" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
                <ion-input *ngIf="x.pleat && !x.pleat_sheer" [(ngModel)]="x.pleat" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
                <ion-input *ngIf="!x.pleat && x.pleat_sheer" [(ngModel)]="x.pleat_sheer" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>
            </div>

            <div *ngIf="x['type'] == 'Wallpaper'"
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type <span
                  style="color: red;">*</span>
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-select class="ion-no-padding" [(ngModel)]="x['pleat']" placeholder="Select a pleat type"
                  interface="popover" md="ios" (ionChange)="typeChanged()"
                  [interfaceOptions]="{'cssClass': 'mycomponent-wider-popover'}" style="height: 30px; margin-right: 10px;font-size: 13px;
             padding: 0 10px; border-radius: 2px;background: #eeeeee;" disabled>
                  <ion-select-option value="Plain">Plain</ion-select-option>
                  <ion-select-option value="Fabric">Fabric</ion-select-option>
                  <ion-select-option value="Non-Woven">Non-Woven</ion-select-option>
                  <ion-select-option value="Patterned">Patterned</ion-select-option>
                  <ion-select-option value="Vinyl">Vinyl</ion-select-option>
                </ion-select>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Item Price</div>

              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input [(ngModel)]="'RM ' + x.price" readonly
                  style="background-color: #eeeeee;width: 140px;  height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>

            </div>

            <div style="width: 100%;display: flex;justify-content: space-between;align-items: center;margin: 5px 0;">

              <div style="display: flex;align-items: center;justify-content: center;">
                <div (click)="deleteTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;margin-right: 20px;color: red;">
                  Delete
                </div>

                <div (click)="editTask(x)"
                  style="text-align: center; font-weight: 600; font-size: 12px;letter-spacing: 0.7px;color: green;">
                  Edit
                </div>
              </div>

              <div (click)="quotationSingle(x,i)"
                style="color: #a17635;font-weight: 600; font-size: 12px;letter-spacing: 0.7px;padding-right: 10px;">
                View Quotation
              </div>

            </div>

          </div>
        </div>

      </div>

    </div>

    <div
      style="width: 100%;margin-top: 15px;margin-bottom: 25px;display: flex;justify-content: space-evenly;align-items: center;">

      <div (click)="addTask()" style="font-weight: 500;color: #a17635;font-size: 15px;">
        + Add Curtains
      </div>

      <div (click)="selectALaCarte()" style="font-weight: 500;color: #a17635;font-size: 15px;">
        + À La Carte
      </div>

    </div>

  </div>

  <div *ngIf="role == 'tech'" style="width: 100vw;">

    <div style="width: 100%; padding: 10px; background-color: #ebd1af;">
      <div style="color: #a17635; font-weight: 600; font-size: 12px;">Client Details</div>
    </div>

    <div style="width: 100%; padding:10px">
      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Name :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_name}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Email :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_email || 'N/A'}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Phone :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_phone}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Type :</div>
        <div style="font-weight: 400; width: 70%; text-transform: uppercase;">{{info.customer_property}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: flex-start; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Address :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_address}}</div>
      </div>

      <div style="width: 100%;display: flex;align-items: center;">
        <div style="font-weight: 700; width: 25%;"></div>
        <div (click)="presentActionSheet()" style="width: fit-content;color: #a17635;background-color: #ebd1af; border-radius: 5px;
        font-weight: 450px;font-size: 13px;letter-spacing: 0.7px;padding: 5px 10px;">Navigate</div>
      </div>

    </div>

    <div
      style="width: 100%; padding: 5px 10px; background-color: #ebd1af; display: flex; align-items: center; justify-content: space-between; ">
      <div style="color: #a17635; font-weight: 600; font-size: 12px;"> Product Details</div>
      <!-- <div *ngIf="lengthof(items) > 0" (click)="checkin()" style="background-color: white; border-radius: 100px; box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
        color: #a17635; padding: 7px 30px; font-size: 12px;">Check-{{checktype}}</div> -->
      <ion-button *ngIf="lengthof(items) > 0" (click)="checkin()"
        style="height: 28px; width: 130px;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 450px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;padding-left: 5px;text-transform: none">
        Check-{{checktype}}
      </ion-button>
    </div>

    <div style="width: 100%;padding: 10px;">

      <div *ngFor="let x of items; let i = index" style="width: 100%; margin-bottom: 10px;">


        <!-- Type 1 -->
        <!-- <div *ngIf="x.type == '1'">
          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Supply Fabrics Only</div>
            
            <div style="display: flex;">
              <div style="margin-right: 8px;"></div>
              <div
                [ngClass]="x.status_tech == 'Approved' ? 'approve' : (x.status_tech == 'Revisited' ? 'approve' :(x.status_tech == 'Rejected' ? 'reject' : ''))"
                style="margin-right: 15px;">
                {{x.status_tech}}
              </div>
              <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}" name="chevron-down-outline">
              </ion-icon>
            </div>

          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; margin-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Fabrics Only
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Fabric Type</div>

              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">

                <div
                  style="background-color: #eeeeee; width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  <span *ngIf="x.fabric_type == 'C'">{{x.fabric}}</span>
                  <span *ngIf="x.fabric_type == 'S'">{{x.fabric_sheer}}</span>
                  <span *ngIf="x.fabric_type == 'CS'">{{x.fabric}}<br />{{fabric_sheer}}</span>
                </div>

              </div>

            </div>

            <div *ngIf="x['type'] == 'Wallpaper'"
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type <span
                  style="color: red;">*</span>
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-select class="ion-no-padding" [(ngModel)]="x['pleat']" placeholder="Select a pleat type"
                  interface="popover" md="ios" (ionChange)="typeChanged()"
                  [interfaceOptions]="{'cssClass': 'mycomponent-wider-popover'}" style="height: 30px; margin-right: 10px;font-size: 13px;
             padding: 0 10px; border-radius: 2px;background: #eeeeee;" disabled>
                  <ion-select-option value="Plain">Plain</ion-select-option>
                  <ion-select-option value="Fabric">Fabric</ion-select-option>
                  <ion-select-option value="Non-Woven">Non-Woven</ion-select-option>
                  <ion-select-option value="Patterned">Patterned</ion-select-option>
                  <ion-select-option value="Vinyl">Vinyl</ion-select-option>
                </ion-select>
              </div>
            </div>

            <div style="width: 100%; display: flex; justify-content: end; align-items: center; ">

              <ion-button (click)="reviewTask(x)"
                style="height: 30px; width: 100px; --background: white; --border-radius: 100px; font-weight: 450px; font-size: 12px; 
                color: #a17635; --background-activated: ; padding-left: 5px; text-transform: none">
                Review
              </ion-button>

            </div>

          </div>
        </div> -->

        <!-- Type 2 -->
        <!-- <div *ngIf="x.type == '2'">

          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Supply Track Only</div>
            
            <div style="display: flex;">
              <div style="margin-right: 8px;"></div>
              <div
                [ngClass]="x.status_tech == 'Approved' ? 'approve' : (x.status_tech == 'Revisited' ? 'approve' :(x.status_tech == 'Rejected' ? 'reject' : ''))"
                style="margin-right: 15px;">
                {{x.status_tech}}
              </div>
              <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}" name="chevron-down-outline">
              </ion-icon>
            </div>

          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Track Width (inch)
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;padding: 7px 10px;border-radius: 2px;">
                  {{x.width_tech || x.width}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Track Only
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Track Type</div>

              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">

                <div
                  style="background-color: #eeeeee; width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  {{x.track}}
                </div>

              </div>

            </div>

            <div style="width: 100%; display: flex; justify-content: end; align-items: center; ">

              <ion-button (click)="reviewTask(x)"
                style="height: 30px; width: 100px; --background: white; --border-radius: 100px; font-weight: 450px; font-size: 12px; 
                color: #a17635; --background-activated: ; padding-left: 5px; text-transform: none">
                Review
              </ion-button>

            </div>

          </div>

        </div> -->

        <!-- Type 3 -->
        <!-- <div *ngIf="x.type == '3'">

          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Supply Accessories Only</div>
            
            <div style="display: flex;">
              <div style="margin-right: 8px;"></div>
              <div
                [ngClass]="x.status_tech == 'Approved' ? 'approve' : (x.status_tech == 'Revisited' ? 'approve' :(x.status_tech == 'Rejected' ? 'reject' : ''))"
                style="margin-right: 15px;">
                {{x.status_tech}}
              </div>
              <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}" name="chevron-down-outline">
              </ion-icon>
            </div>

          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Accessories Only
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Accessories Type</div>

              <div style="display: flex; align-items: center; margin-top: 5px; font-weight: 400;">

                <div
                  style="background-color: #eeeeee; width: 140px; padding: 5px 10px; border-radius: 2px; display: flex; flex-wrap: wrap; align-items: center; ">
                  <div *ngFor="let y of x.accessories; let l = last">
                    {{y.acce_title}}<span *ngIf="!l">,&nbsp;</span>
                  </div>
                </div>

              </div>

            </div>

            <div style="width: 100%; display: flex; justify-content: end; align-items: center; ">

              <ion-button (click)="reviewTask(x)"
                style="height: 30px; width: 100px; --background: white; --border-radius: 100px; font-weight: 450px; font-size: 12px; 
                color: #a17635; --background-activated: ; padding-left: 5px; text-transform: none">
                Review
              </ion-button>

            </div>

          </div>

        </div> -->

        <!-- Type 4 -->
        <!-- <div *ngIf="x.type == '4'">

          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Supply & Install Motor Track</div>
            
            <div style="display: flex;">
              <div style="margin-right: 8px;"></div>
              <div
                [ngClass]="x.status_tech == 'Approved' ? 'approve' : (x.status_tech == 'Revisited' ? 'approve' :(x.status_tech == 'Rejected' ? 'reject' : ''))"
                style="margin-right: 15px;">
                {{x.status_tech}}
              </div>
              <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}" name="chevron-down-outline">
              </ion-icon>
            </div>

          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Location
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 150px; height: 30px;padding: 3px 10px;border-radius: 2px; ">
                  {{x.location}}<span *ngIf="x.location_ref"> -
                    {{x.location_ref}}</span>
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 150px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Supply & Install Motor Track
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Motorised Choice
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 150px; height: 30px; padding : 0px 10px;border-radius: 2px; display: flex; align-items: center;">
                  {{x.motorized_choice}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Motorised Power
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 150px; height: 30px;font-weight: 400; padding: 0px 10px; border-radius: 2px; display: flex; align-items: center;">
                  {{x.motorized_power}}
                </div>
              </div>
            </div>

            <div style="width: 100%; display: flex; justify-content: end; align-items: center; ">

              <ion-button (click)="reviewTask(x)"
                style="height: 30px; width: 100px; --background: white; --border-radius: 100px; font-weight: 450px; font-size: 12px; 
                color: #a17635; --background-activated: ; padding-left: 5px; text-transform: none">
                Review
              </ion-button>

            </div>

          </div>

        </div> -->

        <!-- Type 5 -->
        <!-- <div *ngIf="x.type == '5'">
          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Sewing Only</div>
            
            <div style="display: flex;">
              <div style="margin-right: 8px;"></div>
              <div
                [ngClass]="x.status_tech == 'Approved' ? 'approve' : (x.status_tech == 'Revisited' ? 'approve' :(x.status_tech == 'Rejected' ? 'reject' : ''))"
                style="margin-right: 15px;">
                {{x.status_tech}}
              </div>
              <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}" name="chevron-down-outline">
              </ion-icon>
            </div>

          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Width (inch)
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;padding: 7px 10px;border-radius: 2px;">
                  {{x.width_tech || x.width}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Height (inch)</div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;padding: 7px 10px;border-radius: 2px;">
                  {{x.height_tech || x.height}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Sewing Only
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input *ngIf="x.pleat && x.pleat_sheer" [(ngModel)]="x.pleat" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
                <ion-input *ngIf="x.pleat && !x.pleat_sheer" [(ngModel)]="x.pleat" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
                <ion-input *ngIf="!x.pleat && x.pleat_sheer" [(ngModel)]="x.pleat_sheer" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>
            </div>

            <div *ngIf="x['type'] == 'Wallpaper'"
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type <span
                  style="color: red;">*</span>
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-select class="ion-no-padding" [(ngModel)]="x['pleat']" placeholder="Select a pleat type"
                  interface="popover" md="ios" (ionChange)="typeChanged()"
                  [interfaceOptions]="{'cssClass': 'mycomponent-wider-popover'}" style="height: 30px; margin-right: 10px;font-size: 13px;
               padding: 0 10px; border-radius: 2px;background: #eeeeee;" disabled>
                  <ion-select-option value="Plain">Plain</ion-select-option>
                  <ion-select-option value="Fabric">Fabric</ion-select-option>
                  <ion-select-option value="Non-Woven">Non-Woven</ion-select-option>
                  <ion-select-option value="Patterned">Patterned</ion-select-option>
                  <ion-select-option value="Vinyl">Vinyl</ion-select-option>
                </ion-select>
              </div>
            </div>

            <div style="width: 100%; display: flex; justify-content: end; align-items: center; ">

              <ion-button (click)="reviewTask(x)"
                style="height: 30px; width: 100px; --background: white; --border-radius: 100px; font-weight: 450px; font-size: 12px; 
                color: #a17635; --background-activated: ; padding-left: 5px; text-transform: none">
                Review
              </ion-button>

            </div>

          </div>

        </div> -->

        <!-- Type 6 -->
        <!-- <div *ngIf="x.type == '6'">

          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">A La Carte - Supply Wallpaper Only</div>
           
            <div style="display: flex;">
              <div style="margin-right: 8px;"></div>
              <div
                [ngClass]="x.status_tech == 'Approved' ? 'approve' : (x.status_tech == 'Revisited' ? 'approve' :(x.status_tech == 'Rejected' ? 'reject' : ''))"
                style="margin-right: 15px;">
                {{x.status_tech}}
              </div>
              <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}" name="chevron-down-outline">
              </ion-icon>
            </div>

          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px; font-weight: 400;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px; padding: 5px 10px; border-radius: 2px; display: flex; align-items: center;">
                  Wallpaper Only
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">

              <div style="font-size: 12px; color: #636161; font-weight: 500;">Wallpaper Selected</div>

              <div style="display: flex; align-items: center; margin-top: 5px; font-weight: 400;">

                <div
                  style="background-color: #eeeeee; width: 140px; padding: 5px 10px; border-radius: 2px; display: flex; flex-wrap: wrap; align-items: center; ">
                  {{x.wallpaper.name}}
                </div>

              </div>

            </div>

            <div style="width: 100%; display: flex; justify-content: end; align-items: center; ">

              <ion-button (click)="reviewTask(x)"
                style="height: 30px; width: 100px; --background: white; --border-radius: 100px; font-weight: 450px; font-size: 12px; 
                color: #a17635; --background-activated: ; padding-left: 5px; text-transform: none">
                Review
              </ion-button>

            </div>

          </div>

        </div> -->

        <!-- Tailor / Blind -->
        <div *ngIf="x.type == 'Tailor-Made Curtains' || x.type == 'Blinds' "
          style="padding:10px; border-radius: 5px;box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;background: white;">
          <div (click)="show != i ? show = i : show = null"
            style="width: 100%;display: flex;justify-content: space-between;">
            <div style="font-size: 14px;">{{x.location}}<span *ngIf="x.location_ref"> - {{x.location_ref || ''}}</span>
            </div>

            <div style="display: flex;">
              <div style="margin-right: 8px;"></div>
              <div
                [ngClass]="x.status_tech == 'Approved' ? 'approve' : (x.status_tech == 'Revisited' ? 'approve' :(x.status_tech == 'Rejected' ? 'reject' : ''))"
                style="margin-right: 15px;">
                {{x.status_tech}}
              </div>
              <ion-icon [ngStyle]="{'transform': show == i ? 'rotate(180deg)' : ''}" name="chevron-down-outline">
              </ion-icon>
            </div>

          </div>

          <div [ngClass]="show == i ? 'show' : 'hide'"
            style="width: 100%;display: flex;flex-direction: column; align-items: center;">

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;padding-top: 10px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Curtain Width (inch)
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;padding: 7px 10px;border-radius: 2px;">
                  {{x.width_tech || x.width}}
                </div>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Curtain Height (inch)</div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <div
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;padding: 7px 10px;border-radius: 2px;">
                  {{x.height_tech || x.height}}
                </div>
              </div>
            </div>


            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Product Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input [(ngModel)]="x.type" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>
            </div>

            <div
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-input [(ngModel)]="x.pleat" readonly
                  style="background-color: #eeeeee;width: 140px; height: 30px;font-weight: 400;--padding-start: 10px;--padding-end: 10px;border-radius: 2px;">
                </ion-input>
              </div>
            </div>

            <div *ngIf="x['type'] == 'Wallpaper'"
              style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px;">
              <div style="font-size: 12px; color: #636161; font-weight: 500;">Pleat Type <span
                  style="color: red;">*</span>
              </div>
              <div style="display: flex;align-items: center;margin-top: 5px;">
                <ion-select class="ion-no-padding" [(ngModel)]="x['pleat']" placeholder="Select a pleat type"
                  interface="popover" md="ios" (ionChange)="typeChanged()"
                  [interfaceOptions]="{'cssClass': 'mycomponent-wider-popover'}" style="height: 30px; margin-right: 10px;font-size: 13px;
             padding: 0 10px; border-radius: 2px;background: #eeeeee;" disabled>
                  <ion-select-option value="Plain">Plain</ion-select-option>
                  <ion-select-option value="Fabric">Fabric</ion-select-option>
                  <ion-select-option value="Non-Woven">Non-Woven</ion-select-option>
                  <ion-select-option value="Patterned">Patterned</ion-select-option>
                  <ion-select-option value="Vinyl">Vinyl</ion-select-option>
                </ion-select>
              </div>
            </div>

            <div style="width: 100%; display: flex; justify-content: end; align-items: center; ">

              <ion-button (click)="reviewTask(x)" style="height: 30px; width: 100px; --background: white; --border-radius: 100px; font-weight: 450px; font-size: 12px; 
                color: #a17635; --background-activated: ; padding-left: 5px; text-transform: none">
                Review
              </ion-button>

            </div>

          </div>

        </div>

      </div>

    </div>

    <!-- <div
      style="width: 100%;margin-top: 15px;margin-bottom: 25px;display: flex;justify-content: center;align-items: center;">
      <div (click)="addTask()" style="font-weight: 500;color: #a17635;font-size: 15px;">
        + Add Products
      </div>
    </div> -->

  </div>

  <div *ngIf="user.position == 'Tailor'" style="width: 100vw;">

    <!-- <div style="width: 100%; padding: 10px; background-color: #ebd1af; ">
      <div style="color: #a17635; font-weight: 600; font-size: 12px;"> Client Details</div>
    </div> -->

    <!-- <div style="width: 100%; padding:10px">
      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Name :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_name}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Email :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_email || 'N/A'}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Phone :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_phone}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Type :</div>
        <div style="font-weight: 400; width: 70%; text-transform: uppercase;">{{info.customer_property}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: flex-start; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Address :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_address}}</div>
      </div>

    </div> -->

    <div
      style="width: 100%; padding: 10px; background-color: #ebd1af; display: flex; align-items: center; justify-content: space-between; ">
      <div style="color: #a17635; font-weight: 600; font-size: 13px;"> Product Details</div>
    </div>

    <div style="width: 100%;padding: 10px;">

      <div
        style="width: 100%; padding:10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px; background: white; margin-bottom: 10px;">

        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px;">

          <div *ngFor="let x of items; let i = index"
            style="border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px; background: #FAF7F2; position: relative; display: flex; flex-direction: column;">

            <div (click)="checkTailorAction(x)" style="display: flex; flex-direction: column; flex-grow: 1;">

              <!-- Description -->
              <div
                style="padding: 10px 10px 0 10px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between;">

                <div style="font-weight: 600; color: #000;">
                  <div *ngIf="x.type == 'Tailor-Made Curtains' || x.type == 'Blinds'" style="font-size: 14px;">
                    {{x.location}} {{x.location_ref || ''}}</div>
                  <div *ngIf="x.type == '1'" style="font-size: 14px;">A La Carte - Supply Fabrics Only</div>
                  <div *ngIf="x.type == '2'" style="font-size: 14px;">A La Carte - Supply Track Only</div>
                  <div *ngIf="x.type == '3'" style="font-size: 14px;">A La Carte - Supply Accessories Only</div>
                  <div *ngIf="x.type == '4'" style="font-size: 14px;">A La Carte - Supply & Install Motor Track</div>
                  <div *ngIf="x.type == '5'" style="font-size: 14px;">A La Carte - Sewing Only</div>
                  <div *ngIf="x.type == '6'" style="font-size: 14px;">A La Carte - Supply Wallpaper Only</div>

                </div>

                <!-- Pushes the following content to the bottom -->
                <div>

                  <!-- Schedule Date -->
                  <div style="display: flex; flex-direction: column; align-items: end; margin-top: 10px;">
                    <div *ngIf="x.type == 'Tailor-Made Curtains' || x.type == 'Blinds'">{{x.type}}</div>
                    <div *ngIf="x.type == '1'">Fabrics Only</div>
                    <div *ngIf="x.type == '2'">Track Only</div>
                    <div *ngIf="x.type == '3'">Accessories Only</div>
                    <div *ngIf="x.type == '4'">Supply & Install Motor Track</div>
                    <div *ngIf="x.type == '5'">Sewing Only</div>
                    <div *ngIf="x.type == '6'">Wallpaper Only</div>
                    <div *ngIf="x.tailor_schedule" style="color: green;">
                      {{x.tailor_schedule | date: 'dd MMM yyyy'}}
                    </div>
                    <div *ngIf="!x.tailor_schedule" style="color: tomato;">
                      Not Scheduled
                    </div>
                    <div [ngStyle]="{'color': x.tailor_status_no == 1 ? '#46b846' : '#f58c0a' }">
                      {{x.tailor_status_text}}
                    </div>
                  </div>

                  <!-- View / Update -->
                  <div style="width: 100%; padding: 5px 0; border-top: 1px solid #eeeeee; margin-top: 5px; ">
                    <div style="display: flex; align-items: center; justify-content: center; width: 100%;">
                      <div style="font-size: 12px; font-weight: 500; color: #888888;">View / Update</div>
                    </div>
                  </div>

                </div>

              </div>

            </div>

            <!-- Pop-Up -->
            <div *ngIf="!x.tailor_schedule_status" (click)="checkTailorAction(x)"
              style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #b8b8b8ba; backdrop-filter: blur(1px); display: flex; align-items: center; justify-content: center; border-radius: 5px;">
              <div style="color: #fff; font-size: 16px; font-weight: bold;">
                Not Scheduled
              </div>
            </div>

          </div>

        </div>
      </div>

      <div
        style="display: flex;justify-content: space-between;align-items: center;margin-top: 20px;margin-bottom: 50px;">
        <div style="height: 1px;width: 40%;border-bottom: 1px dashed #999;padding: 0 20px;"></div>
        <div style="width: 100px;font-size: 12px;color: #999;text-align: center;">Total {{items.length}} items</div>
        <div style="height: 1px;width: 40%;border-bottom: 1px dashed #999;padding: 0 20px;"></div>
      </div>

    </div>

  </div>

  <div *ngIf="role == 'inst'" style="width: 100vw;">

    <div style="width: 100%; padding: 10px; background-color: #ebd1af; ">
      <div style="color: #a17635; font-weight: 600; font-size: 12px;"> Client Details</div>
    </div>

    <div style="width: 100%; padding:10px">
      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Name :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_name}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Email :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_email || 'N/A'}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Phone :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_phone}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: center; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Type :</div>
        <div style="font-weight: 400; width: 70%; text-transform: uppercase;">{{info.customer_property}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: flex-start; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Address :</div>
        <div style="font-weight: 400; width: 70%;">{{info.customer_address}}</div>
      </div>

      <div style="margin-bottom: 5px;display: flex; align-items: flex-start; width: 100%;">
        <div style="font-weight: 700; width: 25%;">Schedule :</div>
        <div style="font-weight: 400; width: 70%;">
          <div *ngFor="let x of info.install_schedule;">{{x | date: 'dd MMM yyyy hh:mm a'}}</div>
        </div>
      </div>

    </div>

    <div
    style="width: 100%; padding: 5px 10px; background-color: #ebd1af; display: flex; align-items: center; justify-content: space-between; ">
    <div style="color: #a17635; font-weight: 600; font-size: 12px;"> Product Details</div>
    <!-- <div *ngIf="lengthof(items) > 0" (click)="checkin()" style="background-color: white; border-radius: 100px; box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px;
      color: #a17635; padding: 7px 30px; font-size: 12px;">Check-{{checktype}}</div> -->
    <ion-button *ngIf="lengthof(items) > 0" (click)="checkin()"
      style="height: 28px; width: 130px;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 450px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;padding-left: 5px;text-transform: none">
      Check-{{checktype}}
    </ion-button>
  </div>

    <div style="width: 100%;padding: 10px;">

      <div
        style="width: 100%; padding:10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px; background: white; margin-bottom: 10px;">

        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px;">

          <div *ngFor="let x of items; let i = index"
            style="border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.05) 0px 1px 2px 0px; background: #FAF7F2; position: relative; display: flex; flex-direction: column;">

            <div (click)="checkInstallerAction(x)" style="display: flex; flex-direction: column; flex-grow: 1;">

              <!-- Description -->
              <div
                style="padding: 10px 10px 0 10px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between;">

                <div style="font-weight: 600; color: #000;">
                  <div *ngIf="x.type == 'Tailor-Made Curtains' || x.type == 'Blinds'" style="font-size: 14px;">
                    {{x.location}} {{x.location_ref || ''}}</div>
                  <div *ngIf="x.type == '1'" style="font-size: 14px;">A La Carte - Supply Fabrics Only</div>
                  <div *ngIf="x.type == '2'" style="font-size: 14px;">A La Carte - Supply Track Only</div>
                  <div *ngIf="x.type == '3'" style="font-size: 14px;">A La Carte - Supply Accessories Only</div>
                  <div *ngIf="x.type == '4'" style="font-size: 14px;">A La Carte - Supply & Install Motor Track</div>
                  <div *ngIf="x.type == '5'" style="font-size: 14px;">A La Carte - Sewing Only</div>
                  <div *ngIf="x.type == '6'" style="font-size: 14px;">A La Carte - Supply Wallpaper Only</div>

                </div>

                <!-- Pushes the following content to the bottom -->
                <div>

                  <!-- Schedule Date -->
                  <div style="display: flex; flex-direction: column; align-items: end; margin-top: 10px;">
                    <div *ngIf="x.type == 'Tailor-Made Curtains' || x.type == 'Blinds'">{{x.type}}</div>
                    <div *ngIf="x.type == '1'">Fabrics Only</div>
                    <div *ngIf="x.type == '2'">Track Only</div>
                    <div *ngIf="x.type == '3'">Accessories Only</div>
                    <div *ngIf="x.type == '4'">Supply & Install Motor Track</div>
                    <div *ngIf="x.type == '5'">Sewing Only</div>
                    <div *ngIf="x.type == '6'">Wallpaper Only</div>
                    <!-- <div *ngIf="x.tailor_schedule" style="color: green;">
                      {{x.tailor_schedule | date: 'dd MMM yyyy'}}
                    </div>
                    <div *ngIf="!x.tailor_schedule" style="color: tomato;">
                      Not Scheduled
                    </div> -->
                    <div [ngStyle]="{'color': x.installer_status_no == 1 ? '#46b846' : '#f58c0a' }">
                      {{x.installer_status_text}}
                    </div>
                  </div>

                  <!-- View / Update -->
                  <div style="width: 100%; padding: 5px 0; border-top: 1px solid #eeeeee; margin-top: 5px; ">
                    <div style="display: flex; align-items: center; justify-content: center; width: 100%;">
                      <div style="font-size: 12px; font-weight: 500; color: #888888;">View / Update</div>
                    </div>
                  </div>

                </div>

              </div>

            </div>

            <!-- Pop-Up -->
            <!-- <div *ngIf="!x.tailor_schedule_status" (click)="checkInstallerAction(x)"
              style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: #b8b8b8ba; backdrop-filter: blur(1px); display: flex; align-items: center; justify-content: center; border-radius: 5px;">
              <div style="color: #fff; font-size: 16px; font-weight: bold;">
                Not Scheduled
              </div>
            </div> -->

          </div>

        </div>
      </div>

      <div
        style="display: flex;justify-content: space-between;align-items: center;margin-top: 20px;margin-bottom: 50px;">
        <div style="height: 1px;width: 40%;border-bottom: 1px dashed #999;padding: 0 20px;"></div>
        <div style="width: 100px;font-size: 12px;color: #999;text-align: center;">Total {{items.length}} items</div>
        <div style="height: 1px;width: 40%;border-bottom: 1px dashed #999;padding: 0 20px;"></div>
      </div>

    </div>

  </div>

</ion-content>

<ion-footer>

  <div *ngIf="user.position == 'Sales'"
    style="background: #ebd1af; display: flex;padding: 10px 15px;align-items: center;justify-content: space-between;">

    <div style="padding-left: 5px;">
      <div style="width: fit-content;color: #a17635;font-size: 14px;font-weight: 500;">Total Amount :</div>
      <div style="color: #a17635;font-size: 14px;font-weight: 500;">{{totalPrice() | currency: 'RM '}}</div>
    </div>

    <!-- <div
      style="width: 100%;display: flex;align-items: center;justify-content: flex-end;padding: 0 0 0 15px;background: #ebd1af">

      <ion-button (click)="calcPrice()"
        style="height: 35px;width: 50%;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 350px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;">
        Calculate
      </ion-button>

      <ion-button (click)="addItem()"
        style="height: 35px;width: 40%;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 350px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;padding-left: 5px;">
        Add Item
      </ion-button>

    </div> -->

    <ion-button *ngIf="items.length > 0" (click)="proceed()"
      style="height: 35px;width: 40%;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 450px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;padding-left: 5px;text-transform: none;">
      Proceed
    </ion-button>

  </div>

  <div *ngIf="role == 'tech'"
    style="background: #ebd1af; height: 55px;display: flex;padding: 10px 15px;align-items: center;justify-content: space-between;">

    <div style="padding-left: 5px;">
      <!-- <div style="width: fit-content;color: #a17635;font-size: 14px;font-weight: 500;">Total Amount :</div>
      <div style="color: #a17635;font-size: 14px;font-weight: 500;">{{totalPrice() | currency: 'RM '}}</div> -->
    </div>

    <!-- <div
      style="width: 100%;display: flex;align-items: center;justify-content: flex-end;padding: 0 0 0 15px;background: #ebd1af">

      <ion-button (click)="calcPrice()"
        style="height: 35px;width: 50%;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 350px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;">
        Calculate
      </ion-button>

      <ion-button (click)="addItem()"
        style="height: 35px;width: 40%;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 350px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;padding-left: 5px;">
        Add Item
      </ion-button>

    </div> -->

    <ion-button *ngIf="items.length > 0" (click)="complete()"
      style="height: 35px;width: 40%;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 450px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;padding-left: 5px;text-transform: none">
      Complete
    </ion-button>

  </div>

  <div *ngIf="user.position == 'Tailor'"
    style="background: #ebd1af;height: 55px; display: flex;padding: 10px 15px;align-items: center;justify-content: space-between;">

    <div style="padding-left: 5px;">
      <!-- <div style="width: fit-content;color: #a17635;font-size: 14px;font-weight: 500;">Total Amount :</div>
      <div style="color: #a17635;font-size: 14px;font-weight: 500;">{{totalPrice() | currency: 'RM '}}</div> -->
    </div>

    <div style="display: flex; align-items: center;">
      <ion-button *ngIf="items.length > 0" (click)="downloadSO()" style="height: 35px; width: 140px; --background: white; --border-radius: 100px; font-weight: 450px; font-size: 12px;
      letter-spacing: 0.7px; color: #a17635; --background-activated: ; padding-left: 5px; text-transform: none">
        Download SO
      </ion-button>

      <ion-button *ngIf="items.length > 0" (click)="completeTailor()"
        style="height: 35px; width: 140px;--background: white;--border-radius: 100px;font-weight: 450px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;padding-left: 5px;text-transform: none">
        Complete
      </ion-button>
    </div>

  </div>

  <div *ngIf="role == 'inst'"
    style="background: #ebd1af; display: flex;height: 55px;padding: 10px 15px;align-items: center;justify-content: space-between;">

    <div style="padding-left: 5px;">
      <!-- <div style="width: fit-content;color: #a17635;font-size: 14px;font-weight: 500;">Total Amount :</div>
      <div style="color: #a17635;font-size: 14px;font-weight: 500;">{{totalPrice() | currency: 'RM '}}</div> -->
    </div>

    <!-- <div
      style="width: 100%;display: flex;align-items: center;justify-content: flex-end;padding: 0 0 0 15px;background: #ebd1af">

      <ion-button (click)="calcPrice()"
        style="height: 35px;width: 50%;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 350px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;">
        Calculate
      </ion-button>

      <ion-button (click)="addItem()"
        style="height: 35px;width: 40%;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 350px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;padding-left: 5px;">
        Add Item
      </ion-button>

    </div> -->

    <div style="display: flex; align-items: center;">
      <ion-button *ngIf="items.length > 0" (click)="downloadSO()" style="height: 35px; width: 140px; --background: white; --border-radius: 100px; font-weight: 450px; font-size: 12px;
      letter-spacing: 0.7px; color: #a17635; --background-activated: ; padding-left: 5px; text-transform: none">
        Download SO
      </ion-button>

      <ion-button *ngIf="items.length > 0" (click)="completeInstaller()"
        style="height: 35px;width: 140px;max-width: 150px;--background: white;--border-radius: 100px;font-weight: 450px;font-size: 12px;letter-spacing: 0.7px;color: #a17635;--background-activated: ;padding-left: 5px;text-transform: none">
        Proceed
      </ion-button>
    </div>


  </div>

</ion-footer>