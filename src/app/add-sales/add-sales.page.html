<ion-header style="--background: #FAF7F2">

  <div style="height: 50px; width: 100%; display: flex;align-items: center; padding: 0 15px;background-color: #ebd1af;">

    <div
      style="height: 24px;width: 24px;background-color: white;border-radius: 5px;display: flex;justify-content: center;align-items: center;">
      <ion-icon (click)="close()" style="font-size: 22px; color: #a17635;" name="close-outline"></ion-icon>
    </div>

    <div style="font-weight: 500;color: #a17635;font-size: 15px;margin-left: 15px;letter-spacing: 0.5px;">Lead Creation
    </div>

  </div>

</ion-header>

<ion-content>

  <div style="width: 100%;background-color: #ffffff; padding: 20px;border-radius: 10px 10px 0 0; padding-bottom: 0; ">
    <div style="font-size: 12px; font-weight: 600; color: #33333d; margin-bottom: 5px;">Set customer info</div>
    <div style="font-size: 10px; font-weight: 500; color: #e2caac;">Fill in required customer info</div>

    <div style="width: 100%; display: flex; align-items: flex-start; flex-direction: column; padding: 20px 10px; ">

      <div
        style="width: 100%;  margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between;  ">
        <div style="width: 20%; font-size: 10px; color: #655f59; letter-spacing: 0.5px;">Full Name<span
            style="color: red;">*
          </span></div>

        <div style="width: 70%; border: 1px solid #f0f1f3; border-radius: 2px; ">
          <ion-input placeholder="Eg. John Doe" [(ngModel)]="sales['customer_name']"
            style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 10px">
          </ion-input>
        </div>
      </div>

      <div
        style="width: 100%;  margin-bottom: 10px;display: flex; align-items: center; justify-content: space-between;  ">
        <div style="width: 20%; font-size: 10px; color: #655f59; letter-spacing: 0.5px;">Phone Number<span
            style="color: red;">*
          </span></div>

        <div style="width: 70%; border: 1px solid #f0f1f3; border-radius: 2px; ">
          <ion-input placeholder="Eg. 010-2233456" [(ngModel)]="sales['customer_phone']" type='number'
            style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 10px">
          </ion-input>
        </div>
      </div>

      <div
        style="width: 100%; margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between;">

        <div style="width: 20%; font-size: 10px; color: #655f59; letter-spacing: 0.5px;">Property Type<span
            style="color: red;">*</span></div>

        <div style="border: 1px solid #f0f1f3; border-radius: 2px; width: 70%;">
          <!-- <ion-select [(ngModel)]="sales['property_type']" interface="popover" placeholder="Select One"
                style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 10px">
                <ion-select-option value="Condominium">Condominium</ion-select-option>
                <ion-select-option value="Bungalow">Bungalow</ion-select-option>
                <ion-select-option value="Semi-D">Semi-D</ion-select-option>
              </ion-select> -->

          <ion-input placeholder="Eg. Condominium" [(ngModel)]="keywordPro" (ionFocus)="focus(true)"
            (ionBlur)="focus(false)" style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 10px">
          </ion-input>

          <div *ngIf="sales['customer_property'] != keywordPro && showSelection" style="width: 100%;">
            <div *ngFor="let x of filtererPro(propertyList); let i = index" (click)="selectedArea(x)"
              style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center; background-color: #f0f1f3; cursor: pointer; width: 100%;">
              <div style="font-size: 10px; width: calc( 100% -30px );padding-left: 10px;">{{x}}</div>
            </div>
          </div>

        </div>

      </div>

      <div
        style="width: 100%; margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between; ">
        <div style="width: 20%; font-size: 10px; color: #655f59; letter-spacing: 0.5px;">Site Address<span
            style="color: red;">*
          </span></div>

        <div style="border: 1px solid #f0f1f3; border-radius: 2px;width: 70%; ">
          <ion-textarea rows="3" placeholder="No 1 street ABC" [(ngModel)]="sales['customer_address']"
            style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 10px">
          </ion-textarea>
        </div>
      </div>

      <div
        style="width: 100%; margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between;">
        <div style="width: 20%; font-size: 10px; color: #655f59; letter-spacing: 0.5px;">State/Area<span
            style="color: red;">*
          </span></div>
        <div style="border: 1px solid #f0f1f3; border-radius: 2px; width: 70%;">
          <ion-select [(ngModel)]="sales['transport_fee']" interface="popover" placeholder="Select One"
            style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 10px">
            <ion-select-option *ngFor="let x of feeList; let i = index" [value]="x.price">{{x.name}}
            </ion-select-option>
          </ion-select>
        </div>
      </div>

      <div style="width: 100%; display: flex; align-items: center; justify-content: space-between;  ">
        <div style="width: 20%; font-size: 10px; color: #655f59; letter-spacing: 0.5px;">Reference<span
            style="color: red;">*
          </span></div>

        <div style="width: 70%; border: 1px solid #f0f1f3; border-radius: 2px; ">
          <ion-input placeholder="Eg. WI/FB/CI..." [(ngModel)]="sales['reference']" [maxlength]="3"
            style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 10px">
          </ion-input>
        </div>
      </div>

    </div>

  </div>

  <div style="width: calc(100% ); background-color: #ffffff; padding: 20px 10px;">
    <div style="font-size: 12px; font-weight: 600; color: #33333d; margin-bottom: 5px;">Additional Info</div>

    <div
      style="width: 100%; display: flex; align-items: flex-start; flex-direction: column; padding: 20px; padding-bottom: 0px;">

      <div
        style="width: 100%;  margin-bottom: 10px;display: flex; align-items: center; justify-content: space-between;  ">
        <div style="width: 20%; font-size: 10px; color: #655f59; letter-spacing: 0.5px;">NRIC</div>

        <div style="width: 70%; border: 1px solid #f0f1f3; border-radius: 2px; ">
          <ion-input placeholder="Eg. 000000112222" [(ngModel)]="sales['customer_nric']" type='number'
            style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 10px">
          </ion-input>
        </div>
      </div>

      <div
        style="width: 100%;  margin-bottom: 10px;display: flex; align-items: center; justify-content: space-between;  ">
        <div style="width: 20%; font-size: 10px; color: #655f59; letter-spacing: 0.5px;">Phone Number 2</div>

        <div style="width: 70%; border: 1px solid #f0f1f3; border-radius: 2px; ">
          <ion-input placeholder="Eg. 010-2233456" [(ngModel)]="sales['customer_phone_2']" type='number'
            style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 10px">
          </ion-input>
        </div>
      </div>

      <div style="width: 100%; display: flex; align-items: center; justify-content: space-between; ">
        <div style="width: 20%; font-size: 10px; color: #655f59; letter-spacing: 0.5px;">Site Address 2</div>

        <div style="border: 1px solid #f0f1f3; border-radius: 2px;width: 70%; ">
          <ion-textarea rows="3" placeholder="No 1 street ABC" [(ngModel)]="sales['customer_address_2']"
            style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 10px">
          </ion-textarea>
        </div>
      </div>

    </div>

  </div>

  <div style="width: calc(100% ); background-color: #ffffff; padding: 20px 10px; border-radius:  0 0 10px 10px;  ">
    <div style="font-size: 12px; font-weight: 600; color: #33333d; margin-bottom: 5px;">Set sales info</div>
    <div style="font-size: 10px; font-weight: 500; color: #e2caac;">Fill in required sales info</div>

    <div style="width: 100%; display: flex; align-items: flex-start; flex-direction: column; padding: 20px; ">

      <div
        style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;  ">
        <div style="width: 20%; font-size: 10px; color: #655f59; letter-spacing: 0.5px;">Sales Person<span
            style="color: red;">*
          </span></div>

        <div
          style="width: 70%; border: 1px solid #f0f1f3;; border-radius: 2px; display: flex; flex-direction: column; align-items: flex-start; position: relative;">

          <div *ngIf="sales_name" style="display: flex; align-items: center; width: 100%; height: 36px;">

            <div style="font-size: 12px; padding-left: 10px; align-items: center; display: flex; height: 100%;">
              {{sales_name}}</div>
            <ion-icon (click)="sales_name = ''" style="margin-left: 8px ; color: red;" name="close-outline">
            </ion-icon>
          </div>

          <div *ngIf="!sales_name" style="display: flex; align-items: center; width: 100%;">
            <ion-input placeholder="Enter name" [(ngModel)]="keyword" (ionFocus)="focus2(true)"
              (ionBlur)="focus2(false)" style="font-size: 12px; letter-spacing: 0.5px;">
            </ion-input>
          </div>

          <div *ngIf="keyword != '' && !sales_name || selectionSales " style="width: 100%;max-height: 110px;overflow-y: scroll;
              border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;margin-top: 30px">
            <div *ngFor="let x of filterer(saleList); let i = index" (click)="selectedId(x)"
              style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center; background-color: #f0f1f3; cursor: pointer; width: 100%;">
              <div style="font-size: 10px; width: 30px; display: flex; justify-content: center;">
                {{i + 1}}&nbsp;.
              </div>
              <div style="font-size: 10px; width: calc( 100% -30px ); ">{{x.name}}</div>
            </div>
          </div>

        </div>

      </div>

    </div>

  </div>

</ion-content>

<ion-footer>

  <div
    style='width:100%; background: #ebd1af;display: flex; align-items: center; justify-content: center; padding: 10px;'>

    <div (click)="close()" class="cancel_button"
      style="width:calc(130px - 10px); margin-right: 10px; cursor: pointer; padding: 8px 15px; border-radius: 10px; ">
      <div style="width: 100%; text-align: center; font-size: 10px; font-weight: 500; letter-spacing: 0.5px;">
        Cancel</div>
    </div>

    <div (click)="update()" class="add_button"
      style="width: 120px; cursor: pointer; padding: 8px 15px; border-radius: 10px;">
      <div
        style="width: 100%; text-align: center; font-size: 10px; font-weight: 500; letter-spacing: 0.5px; color: #FFFFFF">
        Create</div>
    </div>
  </div>

</ion-footer>